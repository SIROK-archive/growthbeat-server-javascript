this.Hub=this.Hub||{},this.Hub.templates=this.Hub.templates||{},this.Hub.templates.HeaderView=Handlebars.template(function(a,b,c,d,e){this.compilerInfo=[4,">= 1.0.0"],c=this.merge(c,a.helpers),e=e||{};var f,g,h="",i="function",j=this.escapeExpression;return h+='<iframe id="hubHeaderView" src="http://localhost:8085/header?height=',(g=c.height)?f=g.call(b,{hash:{},data:e}):(g=b&&b.height,f=typeof g===i?g.call(b,{hash:{},data:e}):g),h+=j(f)+'" allowtransparency="true" style="width: 100%; height: ',(g=c.height)?f=g.call(b,{hash:{},data:e}):(g=b&&b.height,f=typeof g===i?g.call(b,{hash:{},data:e}):g),h+=j(f)+'px; border-style: none; position: fixed; top: 0px; padding: 0px; margin: 0px; z-index: 100000;"></iframe>\n<div style="width: 100%; height: ',(g=c.height)?f=g.call(b,{hash:{},data:e}):(g=b&&b.height,f=typeof g===i?g.call(b,{hash:{},data:e}):g),h+=j(f)+'px;"></div>\n'}),this.Hub.templates.XdmView=Handlebars.template(function(a,b,c,d,e){this.compilerInfo=[4,">= 1.0.0"],c=this.merge(c,a.helpers),e=e||{};var f,g,h="",i="function",j=this.escapeExpression;return h+='<iframe id="hubXdmView" src="',(g=c.url)?f=g.call(b,{hash:{},data:e}):(g=b&&b.url,f=typeof g===i?g.call(b,{hash:{},data:e}):g),h+=j(f)+'" style="position: absolute; top: -10000px; height: 0px; width: 0px;"></iframe>'});var Hub;!function(a){var b=function(){function a(){}return a.get=function(a){if(!document.cookie)return null;var b=document.cookie.split("; ");for(var c in b){var d=b[c].split("=");if(d[0]==a)return decodeURIComponent(d[1])}return null},a.set=function(a,b,c){var d=a+"="+encodeURIComponent(b);d+="; expires="+new Date((new Date).getTime()+c).toUTCString(),document.cookie=d},a}();a.CookieUtils=b}(Hub||(Hub={})),function(){function a(){var a=e.getElementsByTagName("iframe")[0];a.style.height=window.innerHeight+"px"}function b(a,b){var c=document.createElement("div");c.innerHTML=Hub.templates.XdmView({url:a});var d=c.getElementsByTagName("iframe")[0];window.addEventListener("message",function(a){"http://localhost:8085"===a.origin&&a.source==d.contentWindow&&(b(a.data),c.parentNode.removeChild(c))},!1),document.getElementById("hub").appendChild(c)}function c(){var b=document.createElement("div");b.innerHTML=Hub.templates.HeaderView({height:Hub.headerHeight});var c=b.getElementsByTagName("iframe")[0];window.addEventListener("message",function(b){"http://localhost:8085"===b.origin&&b.source==c.contentWindow&&(console.log("Receive message: "+b.data),a())},!1),document.getElementById("hub").appendChild(b)}Hub.headerHeight=60,console.log("Load hub server library");var d=document.body,e=document.createElement("div");e.id="hub",d.insertBefore(e,d.childNodes[0]);var f=Hub.CookieUtils.get("hubServiceAuthorization");f?c():b("http://localhost:8085/xdm/service_authorizations?connectionId=1&applicationId=3",function(a){Hub.CookieUtils.set("hubServiceAuthorization",a,12096e5),location.reload()})}();